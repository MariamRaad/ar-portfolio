<!DOCTYPE html>
<html>
    <head>
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="viewport" content="width=device-width, user-scalable=yes, minimum-scale=1.0, maximum-scale=2.0">
        <title>AR Portfolio</title>
        
        <!-- <script src="https://aframe.io/releases/1.0.0/aframe.min.js"></script> -->
        <script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@cd01cec35a01e03eb2d6a9272500a53de31d3828/dist/aframe-master.min.js"></script>
        
        <!-- arjs version without NFT but with marker + location based support -->
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
        <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.2/dist/aframe-extras.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        
        <script>
            window.onload = function() {
                AFRAME.registerComponent("videohandler", {
                    init: function() {
                        var marker = this.el;
                        
                        this.vid = document.querySelector("#vid");
                        
                        marker.addEventListener(
                            "markerFound",
                             function(){
                                this.vid.play();
                             }.bind(this)
                       );
                                
                         marker.addEventListener(
                              "markerLost",
                              function() {
                                  this.vid.pause();
                                  this.vid.currentTime = 0;
                               }.bind(this)
                         );
                      }
                });
            };                  
        </script>
        
        <style>
            .arjs-loader {
                height: 100%;
                widht: 100%;
                position: absolute;
                top: 0;
                left: 0;
                background-color: rgba(0, 0, 0, 0.8);
                z-index: 9999;
                display: flex;
                justify-content: center;
                align-items: center;
            }
            
            .arjs-loader div {
                text-align: center;
                font-size: 1.25em;
                color: white;
            }
        </style>
    </head>
    
    <body style="margin : 0px; overflow: hidden;">
        <div class="arjs-loader">
            <div>Loading, please wait...</div>
        </div>
        <a-scene 
            vr-mode-ui="enabled: false;"
            renderer="antialias: true; alpha: true; precision: mediump;"
            embedded arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
        >
            <a-assets>
                <img id="my-image" src="assets/images/batman.jpg">
                <!-- <video id="safenetkids" autoplay loop="true" playsinline="true" src="/assets/videos/SafeNetKids.mp4"></video> -->
                <video  
                       src="/assets/videos/SafeNetKids.mp4"
                       preload="auto" 
                       id="vid" 
                       poster="assets/images/batman.jpg" 
                       crossOrigin="anonymous" 
                       type="video/mp4" 
                       autoplay loop="true" 
                       playsinline webkit-playsinline controls />
            </a-assets>
            
            <a-marker-camera preset="hiro">
                <a-video src="#vid" position="0 0.5 0" rotation="270 0 0" play="true"></a-video>
            </a-marker-camera>
            <a-entity camera></a-entity>
            
            <!-- Using the asset management system. -->
            <!-- <a-image position="0 2 0" rotation ="0 0 0" width="2" height="1" src="#my-image"></a-image> -->
            <!-- Using the asset management system. -->
            <!-- <a-video src="#safenetkids" width="2" height="1.5" position="0 2 0"></a-video> -->
             
            <!-- <a-marker-camera preset='hiro'></a-marker-camera> -->
            <!-- <a-marker type="pattern" url="/assets/images/Markers/pattern-Logo_M.patt"> -->
            <!-- <a-marker preset='custom' type='pattern' url='https://raw.githubusercontent.com/MariamRaad/ar-portfolio/master/assets/images/Markers/pattern-Logo_M.patt'> -->
       
        </a-scene>
        
        <!--
        <script>
            window.addEventListener('click', function () {
                var video = document.querySelector('#vid');
                if (video.paused == true) {
                    video.play();
                } else {
                    video.pause();
                }
            }, false);
        </script>
        -->
        
    </body>
</html>

 

